(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){e.exports=a(318)},318:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(27),l=a.n(r),o=a(15),c=a(16),s=a(25),m=a(24),u=a(26),d=a(138),g=a.n(d),p=a(135),h=a.n(p),E=a(19),f=a.n(E),v=a(61),b=a.n(v),y=a(31),w=a.n(y),S=a(32),I=a.n(S),k=a(7),C=a.n(k),N=a(29),O=a.n(N),j=a(9),R=a.n(j),T=a(82),A=a.n(T),x=JSON.parse(window.localStorage.getItem("tts")),J=function(){function e(t){Object(o.a)(this,e),this.text=t,window.localStorage.getItem("is_tts")||window.localStorage.setItem("is_tts",!1)}return Object(c.a)(e,[{key:"onEnd",value:function(){window.localStorage.setItem("is_tts",this.isSpeaking)}},{key:"activate",value:function(){var e=this;x&&(this.isSpeaking=JSON.parse(window.localStorage.getItem("is_tts")),this.isSpeaking&&A.a.cancel(),!this.isSpeaking&&A.a.speak(this.text,"US English Female",{rate:.75,onend:function(){return e.onEnd()}}),window.localStorage.setItem("is_tts",!this.isSpeaking))}}]),e}(),B=a(23),z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).storage=window.localStorage,a.storage.getItem("tts")||a.storage.setItem("tts",!1),a.storage.getItem("recognition")||a.storage.setItem("recognition",!1),a.storage.getItem("vemail")||a.storage.setItem("vemail",!1),a.storage.getItem("icon")||a.storage.setItem("icon",!1),a.storage.getItem("helpAddress")||a.storage.setItem("helpAddress","ablemail1540@gmail.com"),a.state={tts:a.storage.getItem("tts"),recognition:a.storage.getItem("recognition"),vemail:a.storage.getItem("vemail"),icon:a.storage.getItem("icon"),helpAddress:a.storage.getItem("helpAddress")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(w.a,{className:t.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()}},i.a.createElement(I.a,{className:t.dialogTitle},"Settings"),i.a.createElement("div",{className:t.dialog},i.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},i.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.tts)?i.a.createElement("div",null,i.a.createElement(R.a,{className:t.typography,onClick:function(){return new J("Text to speech").activate()}},"Text-to-Speech"),i.a.createElement(O.a,{checked:JSON.parse(this.state.tts),onChange:function(t,a){e.storage.setItem("tts",a),e.setState({tts:e.storage.getItem("tts")})}})):""),i.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.recognition)?i.a.createElement("div",null,i.a.createElement(R.a,{className:t.typography,onClick:function(){return new J("Voice recognition").activate()}},"Voice Recognition"),i.a.createElement(O.a,{checked:JSON.parse(this.state.recognition),onChange:function(t,a){e.storage.setItem("recognition",a),e.setState({recognition:e.storage.getItem("recognition")})}})):"")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},i.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.vemail)?i.a.createElement("div",null,i.a.createElement(R.a,{className:t.typography,onClick:function(){return new J("Voice emails").activate()}},"Voice Emails"),i.a.createElement(O.a,{checked:JSON.parse(this.state.vemail),onChange:function(t,a){e.storage.setItem("vemail",a),e.setState({vemail:e.storage.getItem("vemail")})}})):""),i.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.icon)?i.a.createElement("div",null,i.a.createElement(R.a,{className:t.typography,onClick:function(){return new J("Bigger icons").activate()}},"Bigger Icons"),i.a.createElement(O.a,{checked:JSON.parse(this.state.icon),onChange:function(t,a){e.storage.setItem("icon",a),e.setState({icon:e.storage.getItem("icon")})}})):"")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(f.a,{color:"primary",variant:"outlined",onClick:function(){return window.location.reload()},className:t.btnApply},i.a.createElement(b.a,null),"\u2003Apply")))}}]),t}(i.a.Component),D=Object(B.withStyles)(function(e){return{btnApply:{position:"fixed"},dialog:{padding:5*e.spacing.unit,zIndex:2e3},dialogTitle:{fontSize:"1.5em"},grid:{textAlign:"center"},typography:{fontSize:JSON.parse(window.localStorage.getItem("icon"))?"48pt":"36pt"}}})(z),M=a(62),L=a.n(M),V=a(21),_=a.n(V),F=JSON.parse(window.localStorage.getItem("vemail")),H=function(){function e(){var t=this;Object(o.a)(this,e),F&&(this.isRecording=!1,this.result=new Promise(function(e){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(a){t.mediaRecorder=new MediaRecorder(a),t.audioChunks=[],t.mediaRecorder.addEventListener("dataavailable",function(e){t.audioChunks.push(e.data)}),t.mediaRecorder.addEventListener("stop",function(){var a=new Blob(t.audioChunks),n=new FileReader;n.readAsDataURL(a),n.onloadend=function(){e(n.result)}})})}))}return Object(c.a)(e,[{key:"start",value:function(){F&&!this.isRecording&&(this.mediaRecorder.start(),this.isRecording=!0,console.log("Starting recording..."))}},{key:"stop",value:function(){F&&this.isRecording&&(this.mediaRecorder.stop(),this.isRecording=!1,console.log("Stopping recording..."))}},{key:"base64Recording",get:function(){return this.result}}]),e}(),P=JSON.parse(window.localStorage.getItem("recognition")),U=function(){function e(){if(Object(o.a)(this,e),this.message="",this.isRecording=!1,P)try{this.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,this.recognition=new this.SpeechRecognition}catch(t){console.error(t),alert("Your browser does not support voice recognition.")}}return Object(c.a)(e,[{key:"init",value:function(e){var t=this;P&&(this.recognition.continuous=!0,this.recognition.onresult=function(a){var n=a.resultIndex,i=a.results[n][0].transcript;t.message+=i,e&&e()})}},{key:"start",value:function(e){P&&!this.isRecording&&(this.init(function(){return!!e&&e()}),this.recognition.start(),this.isRecording=!0,console.log("Starting voice recognition..."))}},{key:"stop",value:function(){if(P&&this.isRecording)return this.recognition.stop(),this.isRecording=!1,console.log("Stopping voice recognition..."),this.message}},{key:"transcript",get:function(){return this.message},set:function(e){this.message=e}}]),e}(),W=a(123),Y=a.n(W),q=a(83),G=a.n(q),K=JSON.parse(window.localStorage.getItem("icon")),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={content:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"send",value:function(){this.props.send(document.getElementById("recipient").value,document.getElementById("compose-body").value,this.mediaRecorder.base64Recording)}},{key:"render",value:function(){var e=this,t=this.props.classes;this.mediaRecorder=new H;var a=new U;return i.a.createElement(w.a,{className:t.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()},onEntered:function(){return setTimeout(function(){e.mediaRecorder.start(),a.start()},2e3)}},i.a.createElement(C.a,{container:!0,spacing:8},i.a.createElement(C.a,{item:!0,sm:10},i.a.createElement(I.a,{onClick:function(){return new J("Compose Email").activate()}},i.a.createElement(R.a,{className:t.title},"Compose Email")),i.a.createElement("br",null)),i.a.createElement(C.a,{item:!0,sm:2},i.a.createElement("br",null),i.a.createElement(_.a,{"aria-label":"Close",color:"primary",onClick:function(){return e.props.func(!1)}},i.a.createElement(L.a,{className:t.close})))),i.a.createElement("div",{className:t.dialog},i.a.createElement(G.a,{className:t.type,autoFocus:!0,fullWidth:!0,variant:"outlined",rows:"1",placeholder:"To:",id:"recipient"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(G.a,{className:t.type,fullWidth:!0,multiline:!0,variant:"outlined",rows:"12",id:"compose-body",value:this.state.content,onChange:function(){return e.setState({content:document.getElementById("compose-body").value})},placeholder:"Message"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(f.a,{variant:"outlined",color:"secondary",id:"btn-send",onClick:function(){e.mediaRecorder.stop(),e.setState({content:a.stop()}),e.send()}},i.a.createElement(Y.a,{className:t.send}),"\u2003",i.a.createElement(R.a,{className:t.sendEmail,color:"inherit"},"Send Email"))))}}]),t}(i.a.Component),Q=Object(B.withStyles)(function(e){return{close:{fontSize:JSON.parse(window.localStorage.getItem("icon"))?"60pt":"40pt",zIndex:99999},dialog:{overflow:"hidden",padding:5*e.spacing.unit,zIndex:2e3},send:{fontSize:K?"60pt":"40pt"},sendEmail:{fontSize:K?"36pt":"28pt"},title:{fontSize:K?"48pt":"36pt"},type:{fontSize:K?"28pt":"20pt"}}})(X),Z=a(134),$=a.n(Z),ee=a(36),te=a.n(ee),ae=a(137),ne=a.n(ae),ie=a(81),re=a.n(ie),le=a(64),oe=a.n(le),ce=a(65),se=a.n(ce),me=a(66),ue=a.n(me),de=a(84),ge=a.n(de),pe=a(130),he=a.n(pe),Ee=a(132),fe=a.n(Ee),ve=a(125),be=a.n(ve),ye=a(124),we=a.n(ye),Se=a(63),Ie=a.n(Se),ke=a(129),Ce=a.n(ke),Ne=a(128),Oe=a.n(Ne),je=a(127),Re=a.n(je),Te=a(126),Ae=a.n(Te),xe=JSON.parse(window.localStorage.getItem("icon")),Je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).ok="Dear ".concat(a.props.from,",\r\n\nSounds great! See you then!"),a.no="Dear ".concat(a.props.from,",\r\n\nNo. That does not work for me."),a.maybe="Dear ".concat(a.props.from,",\r\n\nI'll get back to you."),a.state={read:JSON.parse(window.localStorage.getItem("tts"))?i.a.createElement(f.a,{variant:"contained",color:"secondary",onClick:function(){return t.getAllText()}},i.a.createElement(Ie.a,{className:a.props.classes.record}),"\xa0 Read Email"):null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"entered",value:function(){document.getElementsByClassName("mail-body")[0].innerHTML=this.props.data.replace(/\xc2/g," ")}},{key:"send",value:function(e){var t=this;document.getElementById("btn-compose").click(),setTimeout(function(){document.getElementById("recipient").value=t.props.address.substring(0,t.props.address.length-1),document.getElementById("recipient").setAttribute("disabled","true"),document.getElementById("compose-body").value=e,document.getElementById("compose-body").setAttribute("disabled","true"),setTimeout(function(){document.getElementById("btn-send").click()},2e3)},1e3)}},{key:"sendHelp",value:function(){var e=this;window.gapi.client.gmail.users.getProfile({userId:"me"}).then(function(t){e.address=JSON.parse(t.body).emailAddress,e.emailContent="Content-Type: text/html\r\nFrom: ".concat(e.address,"\r\nTo: ").concat(window.localStorage.getItem("helpAddress"),"\r\nSubject: Help!\r\nReply-To: ").concat(e.address,"\r\n\r\nPlease help:\n\n").concat(e.props.data.replace(/\xc2/g," ")),window.gapi.client.gmail.users.messages.send({userId:"me",resource:{raw:btoa(e.emailContent).replace(/\+/g,"-").replace(/\//g,"_")}}).then(function(){return setTimeout(function(){return window.location.reload()},500)})})}},{key:"render",value:function(){var e=this,a=this.props.classes;return i.a.createElement(w.a,{className:a.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()},onEntered:function(){return e.entered()}},i.a.createElement(C.a,{container:!0,spacing:8},i.a.createElement(C.a,{item:!0,sm:7},i.a.createElement(I.a,{onClick:function(){return new J(e.props.subject).activate()}},i.a.createElement(R.a,{className:a.dialogTitle},this.props.subject))),i.a.createElement(C.a,{item:!0,sm:2},i.a.createElement("br",null),i.a.createElement("br",null),this.state.read),i.a.createElement(C.a,{item:!0,sm:1},i.a.createElement("br",null),i.a.createElement(_.a,{"aria-label":"Help",color:"secondary",onClick:function(){return e.sendHelp()}},i.a.createElement(we.a,{className:a.close}))),i.a.createElement(C.a,{item:!0,sm:2},i.a.createElement("br",null),i.a.createElement(_.a,{"aria-label":"Close",color:"primary",onClick:function(){return e.props.func(!1)}},i.a.createElement(L.a,{className:a.close})))),i.a.createElement("div",{className:a.spacing}),i.a.createElement("div",{className:a.spacing}),i.a.createElement("hr",{style:{border:"1px solid #eee",width:"95%"}}),i.a.createElement("div",{className:a.spacing}),i.a.createElement("div",{className:"".concat(a.mailBody," mail-body"),onClick:function(){return t.getAllText()},onMouseUp:function(){return t.getSelectedText()}}),i.a.createElement("div",{className:a.spacing}),i.a.createElement("hr",{style:{border:"1px solid #eee",width:"95%"}}),i.a.createElement(C.a,{container:!0,spacing:8,className:a.grid},i.a.createElement(C.a,{item:!0,sm:12},i.a.createElement(R.a,{variant:"h3",onClick:function(){return new J("Reply").activate()}},i.a.createElement(be.a,{className:a.flashIcon}),"Reply"),i.a.createElement("br",null),i.a.createElement("br",null)),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(C.a,{item:!0,sm:4}),i.a.createElement(C.a,{item:!0,sm:1},i.a.createElement(_.a,{"aria-label":"Ok",color:"primary",onClick:function(){e.send(e.ok),new J("Yes").activate()}},i.a.createElement(Ae.a,{className:a.replyIcon}))),i.a.createElement(C.a,{item:!0,sm:1},i.a.createElement(_.a,{"aria-label":"No",color:"primary",onClick:function(){e.send(e.no),new J("No").activate()}},i.a.createElement(Re.a,{className:a.replyIcon}))),i.a.createElement(C.a,{item:!0,sm:1},i.a.createElement(_.a,{"aria-label":"Maybe",color:"primary",onClick:function(){e.send(e.maybe),new J("Maybe").activate()}},i.a.createElement(Oe.a,{className:a.replyIcon}))),i.a.createElement(C.a,{item:!0,sm:1},i.a.createElement(_.a,{"aria-label":"Reply",color:"primary",onClick:function(){new J("Reply").activate(),document.getElementById("btn-compose").click(),setTimeout(function(){return document.getElementById("recipient").value=e.props.address.substring(0,e.props.address.length-1)},1e3)}},i.a.createElement(Ce.a,{className:a.replyIcon})))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null))}}],[{key:"getAllText",value:function(){new J(document.getElementsByClassName("mail-body")[0].innerText).activate()}},{key:"getSelectedText",value:function(){var e="";window.getSelection&&(e=window.getSelection().toString()),new J(e).activate()}}]),t}(i.a.Component),Be=Object(B.withStyles)(function(e){return{close:{fontSize:xe?"60pt":"40pt",zIndex:99999},dialog:{padding:5*e.spacing.unit,zIndex:2e3},dialogTitle:{fontSize:xe?"48pt":"36pt"},flashIcon:{fontSize:"36pt"},grid:{margin:10,textAlign:"center"},mailBody:{fontSize:xe?"36pt":"24pt",paddingBottom:10*e.spacing.unit,paddingLeft:5*e.spacing.unit,paddingRight:5*e.spacing.unit,paddingTop:5*e.spacing.unit},record:{fontSize:xe?"60pt":"40pt",zIndex:99999},replyIcon:{fontSize:"24pt"},spacing:{padding:"5vh"}}})(Je),ze=a(131),De=a.n(ze),Me=JSON.parse(window.localStorage.getItem("icon")),Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={open:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){this.setState({open:e})}},{key:"render",value:function(){var e=this,a=this.props.classes;return this.from=this.props.payload.headers.filter(function(e){return"From"===e.name})[0].value.split("<"),this.subject=this.props.payload.headers.filter(function(e){return"Subject"===e.name})[0].value,this.data=atob(t.mime(this.props.payload).replace(/_/g,"/").replace(/-/g,"+")),this.props.mailData("From ".concat(this.from[0],". ").concat(this.subject,".")),i.a.createElement(he.a,{raised:!0,className:a.card},i.a.createElement(R.a,{variant:"h3",onClick:function(){return new J("From ".concat(e.from[0])).activate()}},"From: ",this.from[0]),i.a.createElement("br",null),i.a.createElement(R.a,{variant:"h6",onClick:function(){return new J(e.from[1]).activate()}},"<".concat(this.from[1])),i.a.createElement("br",null),i.a.createElement(R.a,{variant:"h2",onClick:function(){return new J(e.subject).activate()}},"".concat(this.subject)),i.a.createElement("br",null),i.a.createElement(R.a,{variant:"h5",onClick:function(){return new J(t.htmlDecode(e.props.snippet)).activate()}},t.htmlDecode(this.props.snippet),"..."),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(C.a,{container:!0,spacing:24},i.a.createElement(C.a,{item:!0,sm:9},i.a.createElement(f.a,{variant:"contained",onClick:function(){e.handleClick(!0),new J("Open email").activate()},size:"large",color:"primary",fullWidth:!0},i.a.createElement(De.a,{className:a.open}),"\u2003 Open Email")),i.a.createElement(C.a,{item:!0,sm:3},i.a.createElement(_.a,{"aria-label":"Delete",color:"primary",onClick:function(){return e.props.trash()}},i.a.createElement(fe.a,{className:a.open})))),i.a.createElement(Be,{open:this.state.open,func:function(t){return e.handleClick(t)},onClose:function(){return e.handleClick(!1)},subject:this.subject,data:this.data,from:this.from[0],address:this.from[1]}))}}],[{key:"htmlDecode",value:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}},{key:"mime",value:function(e){return e.body.data||t.mime(e.parts.filter(function(e){return"text/html"===e.mimeType||"multipart/alternative"===e.mimeType||"multipart/related"===e.mimeType})[0])}}]),t}(i.a.Component),Ve=Object(B.withStyles)(function(e){return{card:{padding:5*e.spacing.unit},date:{lineHeight:2},open:{fontSize:Me?"60pt":"40pt"}}})(Le),_e=a(133),Fe=a.n(_e),He=["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest"],Pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={mail:i.a.createElement(ge.a,{color:"secondary"})},a.emailCount=0,a.compiled="",a.reload=setTimeout(function(){return a.setState({mail:i.a.createElement("div",null,i.a.createElement(ge.a,{color:"secondary"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(f.a,{color:"secondary",variant:"contained",onClick:function(){return window.location.reload()}},i.a.createElement(Fe.a,{style:{fontSize:JSON.parse(window.localStorage.getItem("icon"))?"60pt":"40pt"}}),"\u2003 Reload"))})},5e3),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{document.addEventListener("DOMContentLoaded",function(){window.gapi.load("client:auth2",function(){e.init()})},!1)}catch(t){console.error(t),alert("Something went wrong. Try refreshing the page?"),clearTimeout(this.reload),this.setState({mail:i.a.createElement(R.a,{variant:"h2",onClick:function(){return new J("Unable to fetch emails").activate()}},"Unable to fetch emails.")})}}},{key:"init",value:function(){var e=this;window.gapi.client.init({apiKey:"AIzaSyAnDiNaAU8T2W75ynyVt-Dz8ebMxD30s1I",clientId:"98686281361-8upucg52mkqe70nv3j9evlc9kim8ki56.apps.googleusercontent.com",discoveryDocs:He,scope:"https://www.googleapis.com/auth/gmail.modify"}).then(function(){window.gapi.auth2.getAuthInstance().isSignedIn.get()&&e.getMessages(),e.props.isLogin(window.gapi.auth2.getAuthInstance().isSignedIn.get()),window.gapi.client.gmail.users.getProfile({userId:"me"}).then(function(t){e.props.getEmail(JSON.parse(t.body))});try{document.getElementById("btn-login").onclick=t.login}catch(a){}try{document.getElementById("btn-logout").onclick=t.logout}catch(a){}})}},{key:"getMessages",value:function(){var e=this;window.gapi.client.gmail.users.messages.list({userId:"me",labelIds:["INBOX"]}).then(function(a){var n=a.result.messages,r=[];clearTimeout(e.reload),n.forEach(function(a,l){window.gapi.client.gmail.users.messages.get({userId:"me",id:a.id}).then(function(a){r.push(a.result),l+1===n.length&&(r.length!==n.length&&window.location.reload(),r.sort(function(e,t){return t.internalDate-e.internalDate}),e.setState({mail:r.map(function(a,r){return i.a.createElement("div",{key:"preview-".concat(r)},i.a.createElement(Ve,{snippet:a.snippet,payload:a.payload,trash:function(){return t.trash(n[r].id)},mailData:function(t){return e.compile(t)}}),i.a.createElement("br",null),i.a.createElement("br",null))})}))})})})}},{key:"compile",value:function(e){this.emailCount++,this.compiled+="Email number ".concat(this.emailCount,": ").concat(e," "),this.props.mailData(this.compiled)}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.mail)}}],[{key:"login",value:function(){window.gapi.auth2.getAuthInstance().signIn()}},{key:"logout",value:function(){window.gapi.auth2.getAuthInstance().signOut()}},{key:"trash",value:function(e){window.gapi.client.gmail.users.messages.trash({userId:"me",id:e}).then(function(){return window.location.reload()})}}]),t}(i.a.Component),Ue=a(87),We=a.n(Ue),Ye=a(85),qe=a.n(Ye),Ge=a(89),Ke=a.n(Ge),Xe=a(86),Qe=a.n(Xe),Ze=a(88),$e=a.n(Ze),et=a(42),tt=a.n(et),at=a(80),nt=a.n(at),it=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).storage=window.localStorage,a.storage.getItem("tts")||a.storage.setItem("tts",!1),a.storage.getItem("recognition")||a.storage.setItem("recognition",!1),a.storage.getItem("vemail")||a.storage.setItem("vemail",!1),a.storage.getItem("icon")||a.storage.setItem("icon",!1),a.storage.getItem("helpAddress")||a.storage.setItem("helpAddress","ablemail1540@gmail.com"),a.storage.getItem("canned")||a.storage.setItem("canned",JSON.stringify({})),a.state={tts:a.storage.getItem("tts"),recognition:a.storage.getItem("recognition"),vemail:a.storage.getItem("vemail"),icon:a.storage.getItem("icon"),helpAddress:a.storage.getItem("helpAddress"),canned:JSON.parse(a.storage.getItem("canned")),allCan:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.canned,a=[],n=function(n){t.hasOwnProperty(n)&&a.push(i.a.createElement(C.a,{item:!0,sm:12,key:n},i.a.createElement(qe.a,null,i.a.createElement(Qe.a,{expandIcon:i.a.createElement(We.a,null)},i.a.createElement($e.a,null,n)),i.a.createElement(Ke.a,null,i.a.createElement("div",null,i.a.createElement(R.a,{variant:"h6"},t[n]),i.a.createElement("br",null),i.a.createElement(_.a,{color:"primary",onClimck:function(){return e.deleteCan(n)}},i.a.createElement($e.a,null,"delete_forever")))))))};for(var r in t)n(r);this.setState({allCan:a})}},{key:"addCan",value:function(){this.state.canned[document.getElementById("cannedIcon").value]=document.getElementById("canned").value,this.storage.setItem("canned",JSON.stringify(this.state.canned)),document.getElementById("cannedIcon").value="",document.getElementById("canned").value="",this.setState({canned:JSON.parse(this.storage.getItem("canned"))})}},{key:"deleteCan",value:function(e){delete this.state.canned[e],this.storage.setItem("canned",JSON.stringify(this.state.canned))}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(w.a,{className:t.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()}},i.a.createElement(I.a,{className:t.dialogTitle},"Settings"),i.a.createElement("div",{className:t.dialog},i.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},i.a.createElement(C.a,{item:!0,sm:6},i.a.createElement(R.a,{variant:"h4"},"Text-to-Speech"),i.a.createElement(O.a,{checked:JSON.parse(this.state.tts),onChange:function(t,a){e.storage.setItem("tts",a),e.setState({tts:e.storage.getItem("tts")})}})),i.a.createElement(C.a,{item:!0,sm:6},i.a.createElement(R.a,{variant:"h4"},"Voice Recognition"),i.a.createElement(O.a,{checked:JSON.parse(this.state.recognition),onChange:function(t,a){e.storage.setItem("recognition",a),e.setState({recognition:e.storage.getItem("recognition")})}}))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},i.a.createElement(C.a,{item:!0,sm:6},i.a.createElement(R.a,{variant:"h4"},"Voice Emails"),i.a.createElement(O.a,{checked:JSON.parse(this.state.vemail),onChange:function(t,a){e.storage.setItem("vemail",a),e.setState({vemail:e.storage.getItem("vemail")})}})),i.a.createElement(C.a,{item:!0,sm:6},i.a.createElement(R.a,{variant:"h4"},"Bigger Icons"),i.a.createElement(O.a,{checked:JSON.parse(this.state.icon),onChange:function(t,a){e.storage.setItem("icon",a),e.setState({icon:e.storage.getItem("icon")})}}))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},i.a.createElement(C.a,{item:!0,sm:6},i.a.createElement(R.a,{variant:"h4"},"Help Email"),i.a.createElement(tt.a,{defaultValue:this.state.helpAddress,id:"helpAddress",onChange:function(){return e.storage.setItem("helpAddress",document.getElementById("helpAddress").value)},type:"email"})),i.a.createElement(C.a,{item:!0,sm:6},i.a.createElement(R.a,{variant:"h4"},"Add Canned Response"),i.a.createElement(R.a,null,"(Click ",i.a.createElement("a",{target:"_blank",href:"https://material.io/tools/icons/?style=baseline"},"here")," to see the available icons)"),i.a.createElement(tt.a,{id:"cannedIcon",placeholder:"Icon name"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(nt.a,{id:"canned",variant:"outlined",multiline:!0,rows:"5"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(f.a,{color:"secondary",onClick:function(){return e.addCan()}},"Add"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(qe.a,null,i.a.createElement(Qe.a,{expandIcon:i.a.createElement(We.a,null)},i.a.createElement(R.a,{variant:"h6"},"See all canned responses")),i.a.createElement(Ke.a,null,i.a.createElement(C.a,{container:!0},this.state.allCan))))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(f.a,{color:"primary",variant:"outlined",onClick:function(){return window.location.reload()}},i.a.createElement(b.a,null),"\u2003Apply")))}}]),t}(i.a.Component),rt=Object(B.withStyles)(function(e){return{dialog:{padding:5*e.spacing.unit,zIndex:2e3},dialogTitle:{fontSize:"1.5em"},grid:{textAlign:"center"}}})(it),lt=a(90),ot=a.n(lt),ct=a(136),st=a.n(ct),mt=JSON.parse(window.localStorage.getItem("icon")),ut=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).recognition=new U,a.isRecording=!1,a.emailCount=0,a.state={auth:null,compose:!1,settings:!1,clientSettings:!1,recognition:JSON.parse(window.localStorage.getItem("recognition"))?i.a.createElement("div",null,i.a.createElement("div",{className:a.props.classes.toolbar}),i.a.createElement(te.a,null),i.a.createElement(oe.a,{button:!0,onClick:function(){new J("Voice Command").activate(),a.handleRecognition()}},i.a.createElement(se.a,null,i.a.createElement(Ie.a,{className:a.props.classes.icon})),i.a.createElement(ue.a,null,i.a.createElement("br",null),i.a.createElement(R.a,{variant:"h3",color:"inherit",className:a.props.classes.bold},"Voice Command"),i.a.createElement("br",null))),i.a.createElement(te.a,null)):null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.setState({auth:i.a.createElement(f.a,{variant:"contained",color:"secondary",id:"btn-logout",className:this.props.classes.auth,onClick:function(){new J("Sign out").activate(),setTimeout(function(){return window.location.reload()},3e3)}},"Sign Out")}):this.setState({auth:i.a.createElement(f.a,{variant:"contained",color:"secondary",id:"btn-login",className:this.props.classes.auth,onClick:function(){new J("Sign in").activate()}},"Sign In")})}},{key:"handleCompose",value:function(e){this.setState({compose:e})}},{key:"handleSettings",value:function(e){this.setState({settings:e})}},{key:"getEmail",value:function(e){this.address=e.emailAddress}},{key:"send",value:function(e,t,a){this.emailContent="Content-Type: text/plain\r\nFrom: ".concat(this.address,"\r\nTo: ").concat(e,"\r\nSubject: Email from ").concat(this.address,"\r\nReply-To: ").concat(this.address,"\r\n\r\n").concat(t,"\n\nSent with AbleMail."),this.gmailSend()}},{key:"gmailSend",value:function(){window.gapi.client.gmail.users.messages.send({userId:"me",resource:{raw:btoa(this.emailContent).replace(/\+/g,"-").replace(/\//g,"_")}}).then(function(){return setTimeout(function(){return window.location.reload()},500)})}},{key:"handleRecognition",value:function(){var e=this;this.isRecording?this.recognition.stop():setTimeout(function(){e.recognition.start(function(){var t=e.recognition.transcript.toLowerCase();switch(!0){case/compose/.test(t):document.getElementById("btn-compose").click(),e.recognition.transcript="",e.recognition.stop();break;case/read emails/.test(t):new J("You have ".concat(e.emailCount," emails. ").concat(e.mailData," That's all of your emails.")).activate(),e.recognition.transcript="",e.recognition.stop()}})},2e3),this.isRecording=!this.isRecording}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",{className:t.body},i.a.createElement($.a,null),i.a.createElement(h.a,{className:t.appBar},i.a.createElement(st.a,null,i.a.createElement(rt,{open:this.state.settings,onClose:function(){return e.handleSettings(!1)}}),i.a.createElement(f.a,{variant:"outlined",color:"secondary",className:t.settings,onClick:function(){e.handleSettings(!0),new J("Settings").activate()}},i.a.createElement(ot.a,null),"\u2003Coach's Settings"),i.a.createElement("img",{onClick:function(){return new J("AbleMail").activate()},className:t.logo,src:"logo.png",alt:"AbleMail"}),this.state.auth)),i.a.createElement(ne.a,{variant:"permanent",classes:{paper:t.drawerPaper},className:t.drawer},i.a.createElement(re.a,{component:"nav"},i.a.createElement("div",{className:t.toolbar}),i.a.createElement("div",{className:t.toolbar}),i.a.createElement(te.a,null),i.a.createElement(oe.a,{button:!0,onClick:function(){e.recognition.stop(),e.handleCompose(!0),new J("Compose email").activate()},id:"btn-compose"},i.a.createElement(se.a,null,i.a.createElement(g.a,{className:t.icon})),i.a.createElement(ue.a,null,i.a.createElement("br",null),i.a.createElement(R.a,{variant:"h3",color:"inherit",className:t.bold},"Compose"),i.a.createElement("br",null))),i.a.createElement(te.a,null),this.state.recognition,i.a.createElement("div",{className:t.toolbar}),i.a.createElement(te.a,null),i.a.createElement(oe.a,{button:!0,onClick:function(){e.setState({clientSettings:!0}),new J("Settings").activate()}},i.a.createElement(se.a,null,i.a.createElement(ot.a,{className:t.icon})),i.a.createElement(ue.a,null,i.a.createElement("br",null),i.a.createElement(D,{open:this.state.clientSettings,onClose:function(){return e.setState({clientSettings:!1})}}),i.a.createElement(R.a,{variant:"h3",color:"inherit",className:t.bold},"Settings"),i.a.createElement("br",null))),i.a.createElement(te.a,null))),i.a.createElement("main",{className:t.content},i.a.createElement("div",{className:t.toolbar},i.a.createElement(Pe,{isLogin:function(t){return e.login(t)},mailData:function(t){e.mailData=t,e.emailCount++},getEmail:function(t){return e.getEmail(t)}}),i.a.createElement(Q,{open:this.state.compose,onClose:function(){return e.handleCompose(!1)},send:function(t,a,n){return e.send(t,a,n)},func:function(t){return e.setState({compose:t})}}))))}}]),t}(i.a.Component),dt=Object(B.withStyles)(function(e){return{appBar:{zIndex:1400,alignItems:"center"},auth:{position:"absolute",right:"-40vw"},body:{height:"100vh",margin:0,overflow:"hidden",width:"100vw",display:"flex"},bold:{fontWeight:mt?"":"bold"},content:{flexGrow:1,padding:12.5*e.spacing.unit,overflowY:"scroll"},drawer:{flexShrink:0,width:400},drawerPaper:{width:400},icon:{fontSize:mt?"60pt":"40pt"},logo:{height:"5vh"},settings:{position:"absolute",left:"-40vw"},toolbar:e.mixins.toolbar}})(ut);l.a.render(i.a.createElement(dt,null),document.getElementById("root"))}},[[139,2,1]]]);
//# sourceMappingURL=main.0945c141.chunk.js.map