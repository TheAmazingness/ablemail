{"version":3,"sources":["Recorder.js","Recognition.js","Compose.js","Voice.js","Mail.js","MailPreview.js","Mailbox.js","Settings.js","App.js","index.js"],"names":["VEMAIL","JSON","parse","window","localStorage","getItem","Recorder","_this","this","Object","classCallCheck","isRecording","result","Promise","resolve","navigator","mediaDevices","getUserMedia","audio","then","stream","mediaRecorder","MediaRecorder","audioChunks","addEventListener","event","push","data","audioBlob","Blob","reader","FileReader","readAsDataURL","onloadend","start","console","log","stop","RECOGNITION","Recognition","message","SpeechRecognition","webkitSpeechRecognition","recognition","e","error","alert","callback","continuous","onresult","current","resultIndex","transcript","results","init","m","Compose","props","possibleConstructorReturn","getPrototypeOf","call","state","content","send","document","getElementById","value","base64Recording","_this2","classes","react_default","a","createElement","Dialog_default","className","dialog","open","fullScreen","onClose","onEntered","setTimeout","DialogTitle_default","dialogTitle","TextField_default","autoFocus","fullWidth","variant","rows","placeholder","id","multiline","onChange","setState","Button_default","color","onClick","Send_default","React","Component","withStyles","theme","padding","spacing","unit","zIndex","fontSize","SPEAK","speak","text","Voice","rate","Mail","ok","concat","from","no","maybe","getElementsByClassName","innerHTML","click","address","substring","length","setAttribute","_this3","entered","subject","getAllText","onMouseUp","getSelectedText","Grid_default","container","grid","item","sm","Typography_default","FlashOn_default","flashIcon","IconButton_default","aria-label","ThumbUp_default","replyIcon","ThumbDown_default","SentimentDissatisfied_default","innerText","getSelection","toString","margin","textAlign","MailPreview","bool","payload","headers","filter","el","name","split","atob","mime","replace","mailData","Card_default","raised","card","htmlDecode","snippet","handleClick","size","OpenInBrowser_default","trash","DeleteForever_default","src_Mail","input","childNodes","nodeValue","body","parts","mimeType","date","lineHeight","DISCOVERY_DOCS","Mailbox","mail","CircularProgress_default","emailCount","compiled","gapi","load","client","apiKey","clientId","discoveryDocs","scope","auth2","getAuthInstance","isSignedIn","get","getMessages","isLogin","gmail","users","getProfile","userId","response","getEmail","onclick","login","logout","_this4","messages","list","labelIds","fullMessage","forEach","i","res","location","reload","sort","b","internalDate","map","key","src_MailPreview","compile","signIn","signOut","Settings","storage","setItem","tts","vemail","Switch_default","checked","btnApply","Check_default","position","App","auth","compose","settings","toolbar","Divider_default","ListItem_default","button","handleRecognition","ListItemIcon_default","RecordVoiceOver_default","icon","ListItemText_default","bold","arguments","undefined","profile","emailAddress","recipient","recording","emailContent","gmailSend","resource","raw","btoa","toLowerCase","test","CssBaseline_default","AppBar_default","appBar","Toolbar_default","src_Settings","handleSettings","Settings_default","logo","src","alt","Drawer_default","paper","drawerPaper","drawer","List_default","component","handleCompose","AddCircleOutline_default","Mailbox_Mailbox","status","src_Compose","alignItems","right","height","overflow","width","display","fontWeight","flexGrow","overflowY","flexShrink","left","mixins","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.fd2f9cbd.chunk.js","sourcesContent":["const VEMAIL = JSON.parse(window.localStorage.getItem('vemail'));\n\nexport default class Recorder {\n  constructor() {\n    if (VEMAIL) {\n      this.isRecording = false;\n      this.result = new Promise((resolve) => {\n        navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {\n          this.mediaRecorder = new MediaRecorder(stream);\n          this.audioChunks = [];\n          this.mediaRecorder.addEventListener('dataavailable', (event) => {\n            this.audioChunks.push(event.data);\n          });\n          this.mediaRecorder.addEventListener('stop', () => {\n            let audioBlob = new Blob(this.audioChunks);\n            let reader = new FileReader();\n            reader.readAsDataURL(audioBlob);\n            reader.onloadend = () => {\n              resolve(reader.result);\n            };\n          });\n        });\n      });\n    }\n  }\n\n  start() {\n    if (VEMAIL && !this.isRecording) {\n      this.mediaRecorder.start();\n      this.isRecording = true;\n      console.log('Starting recording...');\n    }\n  }\n\n  stop() {\n    if (VEMAIL && this.isRecording) {\n      this.mediaRecorder.stop();\n      this.isRecording = false;\n      console.log('Stopping recording...');\n    }\n  }\n\n  get base64Recording() {\n    return this.result;\n  }\n}","const RECOGNITION = JSON.parse(window.localStorage.getItem('recognition'));\n\nexport default class Recognition {\n  constructor() {\n    this.message = '';\n    this.isRecording = false;\n    if (RECOGNITION) {\n      try {\n        this.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n        this.recognition = new this.SpeechRecognition();\n      } catch (e) {\n        console.error(e);\n        alert('Your browser does not support voice recognition.');\n      }\n    }\n  }\n\n  init(callback) {\n    if (RECOGNITION) {\n      this.recognition.continuous = true;\n      this.recognition.onresult = (e) => {\n        let current = e.resultIndex;\n        let transcript = e.results[current][0].transcript;\n        this.message += transcript;\n        !!callback && callback();\n      };\n    }\n  }\n\n  start(callback) {\n    if (RECOGNITION && !this.isRecording) {\n      this.init(() => !!callback && callback());\n      this.recognition.start();\n      this.isRecording = true;\n      console.log('Starting voice recognition...');\n    }\n  }\n\n  stop() {\n    if (RECOGNITION && this.isRecording) {\n      this.recognition.stop();\n      this.isRecording = false;\n      console.log('Stopping voice recognition...');\n      return this.message;\n    }\n  }\n\n  get transcript() {\n    return this.message;\n  }\n\n  set transcript(m) {\n    this.message = m;\n  }\n}","import React from 'react';\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Recorder from './Recorder';\nimport Recognition from './Recognition';\nimport SendIcon from '@material-ui/icons/Send';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst style = theme => ({\n  dialog: {\n    padding: theme.spacing.unit * 5,\n    zIndex: 2000\n  },\n  dialogTitle: {\n    fontSize: '1.5em'\n  }\n});\n\nclass Compose extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: ''\n    };\n  }\n\n  send() {\n    this.props.send(\n      document.getElementById('recipient').value,\n      document.getElementById('compose-body').value,\n      this.mediaRecorder.base64Recording\n    );\n  }\n\n  render() {\n    const { classes } = this.props;\n    this.mediaRecorder = new Recorder();\n    let recognition = new Recognition();\n    return (\n      <Dialog className={ classes.dialog } open={ this.props.open } fullScreen onClose={ () => this.props.onClose() } onEntered={ () => setTimeout(() => { this.mediaRecorder.start(); recognition.start(); }, 2000) }>\n        <DialogTitle className={ classes.dialogTitle }>Compose Email</DialogTitle>\n        <div className={ classes.dialog }>\n          <TextField autoFocus fullWidth variant='outlined' rows='1' placeholder='To:' id='recipient' />\n          <br />\n          <br />\n          <TextField fullWidth multiline variant='outlined' rows='20' id='compose-body' value={ this.state.content } onChange={ () => this.setState({ content: document.getElementById('compose-body').value }) } placeholder='Message' />\n          <br />\n          <br />\n          <Button variant='outlined' color='secondary' id='btn-send' onClick={ () => { this.mediaRecorder.stop(); this.setState({ content: recognition.stop() }); this.send(); } }>\n            <SendIcon />&emsp;Send Email\n          </Button>\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(style)(Compose);","import Voice from '@cheapundies/responsive-voice';\n\nconst SPEAK = JSON.parse(window.localStorage.getItem('tts'));\n\nexport function speak(text) {\n  SPEAK && Voice.speak(text, 'US English Female', { rate: 0.75 });\n}","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FlashOnIcon from '@material-ui/icons/FlashOn'\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport Typography from '@material-ui/core/Typography';\nimport {speak} from \"./Voice\";\nimport {withStyles} from '@material-ui/core/styles';\n\nconst style = theme => ({\n  dialog: {\n    padding: theme.spacing.unit * 5,\n    zIndex: 2000\n  },\n  dialogTitle: {\n    fontSize: '30pt'\n  },\n  flashIcon: {\n    fontSize: '36pt'\n  },\n  grid: {\n    margin: 10,\n    textAlign: 'center'\n  },\n  replyIcon: {\n    fontSize: '24pt'\n  }\n});\n\nclass Mail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ok = `\n      Dear ${ this.props.from },\n      \\r\\n\\n\n      Sounds great!`;\n    this.no = `\n      Dear ${ this.props.from },\n      \\r\\n\\n\n      No, sorry. I don't think so.`;\n    this.maybe = `\n      Dear ${ this.props.from },\n      `;\n  }\n\n  entered() {\n    document.getElementsByClassName('mail-body')[0].innerHTML = this.props.data;\n  }\n\n  static getAllText() {\n    speak(document.getElementsByClassName('mail-body')[0].innerText);\n  }\n\n  static getSelectedText() {\n    let text = '';\n    if (window.getSelection) {\n      text = window.getSelection().toString();\n    }\n    speak(text);\n  }\n\n  send(value) {\n    document.getElementById('btn-compose').click();\n    setTimeout(() => {\n      document.getElementById('recipient').value = this.props.address.substring(0, this.props.address.length - 1);\n      document.getElementById('recipient').setAttribute('disabled', 'true');\n      document.getElementById('compose-body').value = value;\n      document.getElementById('compose-body').setAttribute('disabled', 'true');\n      setTimeout(() => {\n        document.getElementById('btn-send').click();\n      }, 2000);\n    }, 1000);\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Dialog className={ classes.dialog } open={ this.props.open } fullScreen={ true } onClose={ () => this.props.onClose() } onEntered={ () => this.entered() }>\n        <DialogTitle className={ classes.dialogTitle } onClick={ () => speak(this.props.subject) }>{ this.props.subject }</DialogTitle>\n        <div className={ `${ classes.dialog } mail-body` } onClick={ () => Mail.getAllText() } onMouseUp={ () => Mail.getSelectedText() } />\n        <Grid container spacing={ 8 } className={ classes.grid }>\n          <Grid item sm={ 12 }>\n            <br />\n            <br />\n            <Typography variant='h3'>\n              <FlashOnIcon className={ classes.flashIcon } />Quick Reply\n            </Typography>\n            <br />\n            <br />\n          </Grid>\n          <Grid item sm={ 1 }>\n            <IconButton aria-label='Ok' color='primary' onClick={ () => this.send(this.ok) }>\n              <ThumbUpIcon className={ classes.replyIcon } />\n            </IconButton>\n          </Grid>\n          <Grid item sm={ 1 }>\n            <IconButton aria-label='No' color='primary' onClick={ () => this.send(this.no) } >\n              <ThumbDownIcon className={ classes.replyIcon } />\n            </IconButton>\n          </Grid>\n          <Grid item sm={ 1 }>\n            <IconButton aria-label='Maybe' color='primary' onClick={ () => this.send(this.maybe) }>\n              <SentimentDissatisfiedIcon className={ classes.replyIcon } />\n            </IconButton>\n          </Grid>\n          <Grid item sm={ 1 }>\n            <IconButton aria-label='Maybe' color='primary' onClick={ () => this.send('test') }>\n              <SentimentDissatisfiedIcon className={ classes.replyIcon } />\n            </IconButton>\n          </Grid>\n        </Grid>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(style)(Mail);","import React from 'react';\nimport Button from \"@material-ui/core/Button\";\nimport Card from '@material-ui/core/Card';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Mail from './Mail';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport Typography from \"@material-ui/core/Typography\";\nimport { speak } from './Voice';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst style = theme => ({\n  card: {\n    padding: theme.spacing.unit * 5\n  },\n  date: {\n    lineHeight: 2\n  }\n});\n\nclass MailPreview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false\n    };\n  }\n\n  static htmlDecode(input){\n    let e = document.createElement('div');\n    e.innerHTML = input;\n    return e.childNodes.length === 0 ? '' : e.childNodes[0].nodeValue;\n  }\n\n  static mime(payload) {\n    // Needs to be optimized later\n    return payload.body.data || MailPreview.mime(payload.parts.filter((el) => el.mimeType === 'text/html' || el.mimeType === 'multipart/alternative' || el.mimeType === 'multipart/related')[0]);\n  }\n\n  handleClick(bool) {\n    this.setState({\n      open: bool\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    this.from = this.props.payload.headers.filter(el => el.name === 'From')[0].value.split('<');\n    this.subject = this.props.payload.headers.filter(el => el.name === 'Subject')[0].value;\n    this.data = atob(MailPreview.mime(this.props.payload).replace(/_/g, '/').replace(/-/g, '+'));\n    this.props.mailData(`From ${ this.from[0] }. ${ this.subject }.`);\n    return (\n      <Card raised className={ classes.card }>\n        <Typography variant='h3' onClick={ () => speak(`From ${ this.from[0] }`) }>From: { this.from[0] }</Typography>\n        <br />\n        <Typography variant='h4' onClick={ () => speak(this.from[1]) }>{ `<${ this.from[1] }` }</Typography>\n        <br />\n        <Typography variant='h2'  onClick={ () => speak(this.subject) }>{ `${ this.subject }` }</Typography>\n        <br />\n        <Typography variant='h5' onClick={ () => speak(MailPreview.htmlDecode(this.props.snippet)) }>{ MailPreview.htmlDecode(this.props.snippet) }...</Typography>\n        <br />\n        <br />\n        <Grid container spacing={ 24 }>\n          <Grid item sm={ 9 }>\n            <Button variant='contained' onClick={ () => { this.handleClick(true); speak('Open email'); } } size='large' color='secondary' fullWidth>\n              <OpenInBrowserIcon />&emsp;\n              Open Email\n            </Button>\n          </Grid>\n          <Grid item sm={ 3 }>\n            <IconButton aria-label='Delete' color='primary' onClick={ () => this.props.trash() }>\n              <DeleteForeverIcon fontSize='large' />\n            </IconButton>\n          </Grid>\n        </Grid>\n        <Mail open={ this.state.open } onClose={ () => this.handleClick(false) } subject={ this.subject } data={ this.data } from={ this.from[0] } address={ this.from[1] } />\n      </Card>\n    );\n  }\n}\n\nexport default withStyles(style)(MailPreview);","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport MailPreview from './MailPreview';\nimport Typography from '@material-ui/core/Typography';\nimport { speak } from './Voice';\n\nconst CLIENT_ID = '98686281361-8upucg52mkqe70nv3j9evlc9kim8ki56.apps.googleusercontent.com';\nconst API_KEY = 'AIzaSyAnDiNaAU8T2W75ynyVt-Dz8ebMxD30s1I';\nconst DISCOVERY_DOCS = ['https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest'];\nconst SCOPES = 'https://www.googleapis.com/auth/gmail.modify';\n\nexport default class Mailbox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mail: <CircularProgress color='secondary' />\n    };\n    this.emailCount = 0;\n    this.compiled = '';\n  }\n  componentDidMount() {\n    try {\n      window.gapi.load('client:auth2', () => {\n        this.init();\n      });\n    } catch (e) {\n      console.error(e);\n      alert('Something went wrong. Try refreshing the page?');\n      this.setState({ mail: <Typography variant='h2' onClick={ () => speak('Unable to fetch emails') }>Unable to fetch emails.</Typography> });\n    }\n  }\n\n  init() {\n    window.gapi.client.init({\n      apiKey: API_KEY,\n      clientId: CLIENT_ID,\n      discoveryDocs: DISCOVERY_DOCS,\n      scope: SCOPES\n    }).then(() => {\n      if (window.gapi.auth2.getAuthInstance().isSignedIn.get()) {\n        this.getMessages();\n      }\n      this.props.isLogin(window.gapi.auth2.getAuthInstance().isSignedIn.get());\n      window.gapi.client.gmail.users.getProfile({ userId: 'me' }).then((response) => {\n        this.props.getEmail(JSON.parse(response.body));\n      });\n      try { document.getElementById('btn-login').onclick = Mailbox.login; } catch (e) {}\n      try { document.getElementById('btn-logout').onclick = Mailbox.logout; } catch (e) {}\n    });\n  }\n\n  static login() {\n    window.gapi.auth2.getAuthInstance().signIn();\n  }\n\n  static logout() {\n    window.gapi.auth2.getAuthInstance().signOut();\n  }\n\n  static trash(id) {\n    window.gapi.client.gmail.users.messages.trash({\n      userId: 'me',\n      id: id\n    }).then(() => window.location.reload());\n  }\n\n  getMessages() {\n    window.gapi.client.gmail.users.messages.list({\n      userId: 'me',\n      labelIds: ['INBOX']\n    }).then((response) => {\n      let { messages } = response.result;\n      let fullMessage = [];\n      messages.forEach((m, i) => {\n        window.gapi.client.gmail.users.messages.get({\n          userId: 'me',\n          id: m.id\n        }).then((res) => {\n          fullMessage.push(res.result);\n          if (i + 1 === messages.length) {\n            if (fullMessage.length !== messages.length) {\n              window.location.reload();\n            }\n            fullMessage.sort((a, b) => b.internalDate - a.internalDate);\n            this.setState({\n              mail: fullMessage.map((el, i) =>\n                <div key={ `preview-${ i }` }>\n                  <MailPreview snippet={ el.snippet } payload={ el.payload } trash={ () => Mailbox.trash(messages[i].id) } mailData={ (data) => this.compile(data) } />\n                  <br />\n                  <br />\n                </div>\n              )\n            });\n          }\n        });\n      });\n    });\n  }\n\n  compile(data) {\n    this.emailCount++;\n    this.compiled += `Email number ${ this.emailCount }: ${ data } `;\n    this.props.mailData(this.compiled);\n  }\n\n  render() {\n    return (\n      <div>\n        { this.state.mail }\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Button from \"@material-ui/core/Button\";\nimport CheckIcon from '@material-ui/icons/Check';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from '@material-ui/core/Grid';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from '@material-ui/core/styles';\n\nconst style = theme => ({\n  btnApply: {\n    position: 'fixed'\n  },\n  dialog: {\n    padding: theme.spacing.unit * 5,\n    zIndex: 2000\n  },\n  dialogTitle: {\n    fontSize: '1.5em'\n  },\n  grid: {\n    textAlign: 'center'\n  }\n});\n\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n    if (!!typeof Storage) {\n      this.storage = window.localStorage;\n      if (!this.storage.getItem('tts')) {\n        this.storage.setItem('tts', false);\n      }\n      if (!this.storage.getItem('recognition')) {\n        this.storage.setItem('recognition', false);\n      }\n\n      if (!this.storage.getItem('vemail')) {\n        this.storage.setItem('vemail', false);\n      }\n    } else {\n      alert('Your browser doesn\\'t support local storage.');\n    }\n    this.state = {\n      tts: this.storage.getItem('tts'),\n      recognition: this.storage.getItem('recognition'),\n      vemail: this.storage.getItem('vemail')\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Dialog className={ classes.dialog } open={ this.props.open } fullScreen onClose={ () => this.props.onClose() }>\n        <DialogTitle className={ classes.dialogTitle }>Settings</DialogTitle>\n        <div className={ classes.dialog }>\n          <Grid container spacing={ 24 } className={ classes.grid }>\n            <Grid item sm={ 6 }>\n              <Typography variant='h4'>Text-to-Speech</Typography>\n              <Switch checked={ JSON.parse(this.state.tts) } onChange={ (e, checked) => { this.storage.setItem('tts', checked); this.setState({ tts: this.storage.getItem('tts') }); } } />\n            </Grid>\n            <Grid item sm={ 6 }>\n              <Typography variant='h4'>Voice Recognition</Typography>\n              <Switch checked={ JSON.parse(this.state.recognition) } onChange={ (e, checked) => { this.storage.setItem('recognition', checked); this.setState({ recognition: this.storage.getItem('recognition') }); } } />\n            </Grid>\n          </Grid>\n          <br />\n          <br />\n          <Grid container spacing={ 24 } className={ classes.grid }>\n            <Grid item sm={ 6 }>\n              <Typography variant='h4'>Voice Emails</Typography>\n              <Switch checked={ JSON.parse(this.state.vemail) } onChange={ (e, checked) => { this.storage.setItem('vemail', checked); this.setState({ vemail: this.storage.getItem('vemail') }); } } />\n            </Grid>\n          </Grid>\n          <br />\n          <br />\n          <br />\n          <Button color='primary' variant='outlined' onClick={ () => window.location.reload() } className={ classes.btnApply }>\n            <CheckIcon />&emsp;Apply\n          </Button>\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(style)(Settings);","import React from 'react';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from \"@material-ui/core/Button\";\nimport Compose from './Compose';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Mailbox from './Mailbox';\nimport Recognition from \"./Recognition\";\nimport RecordVoiceOverIcon from '@material-ui/icons/RecordVoiceOver';\nimport Settings from './Settings';\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { speak } from './Voice';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst style = theme => ({\n  appBar: {\n    zIndex: 1400,\n    alignItems: 'center'\n  },\n  auth: {\n    position: 'absolute',\n    right: '-40vw'\n  },\n  body: {\n    height: '100vh',\n    margin: 0,\n    overflow: 'hidden',\n    width: '100vw',\n    display: 'flex'\n  },\n  bold: {\n    fontWeight: 'bold'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 12.5,\n    overflowY: 'scroll'\n  },\n  drawer: {\n    flexShrink: 0,\n    width: 360\n  },\n  drawerPaper: {\n    width: 360\n  },\n  icon: {\n    fontSize: '40pt'\n  },\n  logo: {\n    height: '10vh'\n  },\n  settings: {\n    position: 'absolute',\n    left: '-40vw'\n  },\n  toolbar: theme.mixins.toolbar\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.recognition = new Recognition();\n    this.isRecording = false;\n    this.emailCount = 0;\n    this.state = {\n      auth: null,\n      compose: false,\n      settings: false,\n      recognition: JSON.parse(window.localStorage.getItem('recognition')) ? (\n        <div>\n          <div className={ this.props.classes.toolbar } />\n          <Divider />\n          <ListItem button={ true } onClick={ () => { speak('Voice Command'); this.handleRecognition(); } }>\n            <ListItemIcon>\n              <RecordVoiceOverIcon className={ this.props.classes.icon } />\n            </ListItemIcon>\n            <ListItemText>\n              <br />\n              <Typography variant='h3' color='inherit' className={ this.props.classes.bold }>Voice Command</Typography>\n              <br />\n            </ListItemText>\n          </ListItem>\n          <Divider />\n        </div>\n      ) : null\n    }\n  }\n\n  login(status = false) {\n    if (status) {\n      this.setState({ auth: <Button variant='contained' color='secondary' id='btn-logout' className={ this.props.classes.auth } onClick={ () => { speak('Sign out'); setTimeout(() => window.location.reload(), 3000); } }>Sign Out</Button> });\n    } else {\n      this.setState({ auth: <Button variant='contained' color='secondary' id='btn-login' className={ this.props.classes.auth } onClick={ () => { speak('Sign in'); } }>Sign In</Button> });\n    }\n  }\n\n  handleCompose(bool) {\n    this.setState({\n      compose: bool\n    });\n  }\n\n  handleSettings(bool) {\n    this.setState({\n      settings: bool\n    });\n  }\n\n  getEmail(profile) {\n    this.address = profile.emailAddress;\n  }\n\n  send(recipient, body, recording) {\n    // if (!!recording) {\n    //   recording.then((result) => {\n    //     this.emailContent = `\n    //       Content-Type: multipart/mixed\\r\\n\n    //       From: ${ this.address }\\r\\n\n    //       To: ${ recipient }\\r\\n\n    //       Subject: Email from ${ this.address }\\r\\n\n    //       Reply-To: ${ this.address }\\r\\n\\r\\n\n    //       --boundary\\r\\n\n    //       Content-Type: text/plain\\r\\n\\r\\n\n    //       ${ body }\\n\n    //       Sent with AbleMail.\\r\\n\\r\\n\n    //       --boundary\\r\\n\n    //       Content-Type: audio/*\\r\\n\\r\\n\n    //       ${ result }`;\n    //     this.gmailSend();\n    //   });\n    // } else {\n      this.emailContent = `Content-Type: text/plain\\r\\nFrom: ${ this.address }\\r\\nTo: ${ recipient }\\r\\nSubject: Email from ${ this.address }\\r\\nReply-To: ${ this.address }\\r\\n\\r\\n${ body }\\nSent with AbleMail.`;\n      this.gmailSend();\n    // }\n  }\n\n  gmailSend() {\n    window.gapi.client.gmail.users.messages.send({\n      userId: 'me',\n      resource: {\n        raw: btoa(this.emailContent).replace(/\\+/g, '-').replace(/\\//g, '_')\n      }\n    }).then(() => setTimeout(() => window.location.reload(), 500));\n  }\n\n  handleRecognition() {\n    if (this.isRecording) {\n      this.recognition.stop();\n    } else {\n      setTimeout(() => {\n        this.recognition.start(() => {\n          let message = this.recognition.transcript.toLowerCase();\n          switch (true) {\n            case /compose/.test(message):\n              document.getElementById('btn-compose').click();\n              this.recognition.transcript = '';\n              this.recognition.stop();\n              break;\n            case /read emails/.test(message):\n              speak(`You have ${ this.emailCount } emails. ${ this.mailData } That's all of your emails.`);\n              this.recognition.transcript = '';\n              this.recognition.stop();\n              break;\n          }\n        });\n      }, 2000);\n    }\n    this.isRecording = !this.isRecording;\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={ classes.body }>\n        <CssBaseline />\n        <AppBar className={ classes.appBar }>\n          <Toolbar>\n            <Settings open={ this.state.settings } onClose={ () => this.handleSettings(false) } />\n            <Button variant='outlined' color='secondary' className={ classes.settings } onClick={ () => { this.handleSettings(true); speak('Settings') } }>\n              <SettingsIcon />&emsp;Coach's Settings\n            </Button>\n            <img onClick={ () => speak('AbleMail') } className={ classes.logo } src='https://lh3.googleusercontent.com/QXgAJzNC6BONPxSwpDZN5K1aS8klswHmkVwFCoZbYnEw9KvEoNgOrlteo30X2o3Oy3aOWkfjl0x-oVBy6jEf=w1440-h820-rw' alt='AbleMail' />\n            {/*<Typography variant='h4' color='inherit' onClick={ () => speak('AbleMail') }>AbleMail</Typography>*/}\n            { this.state.auth }\n          </Toolbar>\n        </AppBar>\n        <Drawer variant='permanent' classes={ { paper: classes.drawerPaper } } className={ classes.drawer }>\n          <List component='nav'>\n            <div className={ classes.toolbar } />\n            <Divider />\n            <ListItem button={ true } onClick={ () => { this.recognition.stop(); this.handleCompose(true); speak('Compose email'); } } id='btn-compose'>\n              <ListItemIcon>\n                <AddCircleOutlineIcon className={ classes.icon } />\n              </ListItemIcon>\n              <ListItemText>\n                <br />\n                <Typography variant='h3' color='inherit' className={ classes.bold }>Compose</Typography>\n                <br />\n              </ListItemText>\n            </ListItem>\n            <Divider />\n            { this.state.recognition }\n            <div className={ classes.toolbar } />\n            <Divider />\n            <ListItem button={ true } onClick={ () => speak('Settings') }>\n              <ListItemIcon>\n                <SettingsIcon className={ classes.icon } />\n              </ListItemIcon>\n              <ListItemText>\n                <br />\n                <Typography variant='h3' color='inherit' className={ classes.bold }>Settings</Typography>\n                <br />\n              </ListItemText>\n            </ListItem>\n            <Divider />\n          </List>\n        </Drawer>\n        <main className={ classes.content }>\n          <div className={ classes.toolbar }>\n            <Mailbox isLogin={ (status) => this.login(status) } mailData={ (data) => { this.mailData = data; this.emailCount++; } } getEmail={ (profile) => this.getEmail(profile) } />\n            <Compose open={ this.state.compose } onClose={ () => this.handleCompose(false) } send={ (recipient, body, recording) => this.send(recipient, body, recording) } />\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(style)(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}