(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,n){e.exports=n(306)},306:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(26),r=n.n(i),l=n(16),c=n(17),s=n(23),m=n(22),u=n(24),d=n(131),g=n.n(d),p=n(128),h=n.n(p),E=n(18),f=n.n(E),b=n(59),v=n.n(b),y=n(31),w=n.n(y),S=n(32),I=n.n(S),k=n(7),C=n.n(k),N=n(29),O=n.n(N),j=n(11),T=n.n(j),R=n(81),A=n.n(R),x=JSON.parse(window.localStorage.getItem("tts")),J=!1;function B(e){x&&((J=!J)&&A.a.cancel(),!J&&A.a.speak(e,"US English Female",{rate:.75}))}var z=n(21),D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).storage=window.localStorage,n.storage.getItem("tts")||n.storage.setItem("tts",!1),n.storage.getItem("recognition")||n.storage.setItem("recognition",!1),n.storage.getItem("vemail")||n.storage.setItem("vemail",!1),n.storage.getItem("icon")||n.storage.setItem("icon",!1),n.storage.getItem("helpAddress")||n.storage.setItem("helpAddress","ablemail1540@gmail.com"),n.state={tts:n.storage.getItem("tts"),recognition:n.storage.getItem("recognition"),vemail:n.storage.getItem("vemail"),icon:n.storage.getItem("icon"),helpAddress:n.storage.getItem("helpAddress")},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(w.a,{className:t.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()}},o.a.createElement(I.a,{className:t.dialogTitle},"Settings"),o.a.createElement("div",{className:t.dialog},o.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},o.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.tts)?o.a.createElement("div",null,o.a.createElement(T.a,{variant:"h4",onClick:function(){return B("Text to speech")}},"Text-to-Speech"),o.a.createElement(O.a,{checked:JSON.parse(this.state.tts),onChange:function(t,n){e.storage.setItem("tts",n),e.setState({tts:e.storage.getItem("tts")})}})):""),o.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.recognition)?o.a.createElement("div",null,o.a.createElement(T.a,{variant:"h4",onClick:function(){return B("Voice recognition")}},"Voice Recognition"),o.a.createElement(O.a,{checked:JSON.parse(this.state.recognition),onChange:function(t,n){e.storage.setItem("recognition",n),e.setState({recognition:e.storage.getItem("recognition")})}})):"")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},o.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.vemail)?o.a.createElement("div",null,o.a.createElement(T.a,{variant:"h4",onClick:function(){return B("Voice emails")}},"Voice Emails"),o.a.createElement(O.a,{checked:JSON.parse(this.state.vemail),onChange:function(t,n){e.storage.setItem("vemail",n),e.setState({vemail:e.storage.getItem("vemail")})}})):""),o.a.createElement(C.a,{item:!0,sm:6},JSON.parse(this.state.icon)?o.a.createElement("div",null,o.a.createElement(T.a,{variant:"h4",onClick:function(){return B("Bigger icons")}},"Bigger Icons"),o.a.createElement(O.a,{checked:JSON.parse(this.state.icon),onChange:function(t,n){e.storage.setItem("icon",n),e.setState({icon:e.storage.getItem("icon")})}})):"")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(f.a,{color:"primary",variant:"outlined",onClick:function(){return window.location.reload()},className:t.btnApply},o.a.createElement(v.a,null),"\u2003Apply")))}}]),t}(o.a.Component),M=Object(z.withStyles)(function(e){return{btnApply:{position:"fixed"},dialog:{padding:5*e.spacing.unit,zIndex:2e3},dialogTitle:{fontSize:"1.5em"},grid:{textAlign:"center"}}})(D),V=n(60),F=n.n(V),L=n(27),H=n.n(L),U=JSON.parse(window.localStorage.getItem("vemail")),P=function(){function e(){var t=this;Object(l.a)(this,e),U&&(this.isRecording=!1,this.result=new Promise(function(e){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(n){t.mediaRecorder=new MediaRecorder(n),t.audioChunks=[],t.mediaRecorder.addEventListener("dataavailable",function(e){t.audioChunks.push(e.data)}),t.mediaRecorder.addEventListener("stop",function(){var n=new Blob(t.audioChunks),a=new FileReader;a.readAsDataURL(n),a.onloadend=function(){e(a.result)}})})}))}return Object(c.a)(e,[{key:"start",value:function(){U&&!this.isRecording&&(this.mediaRecorder.start(),this.isRecording=!0,console.log("Starting recording..."))}},{key:"stop",value:function(){U&&this.isRecording&&(this.mediaRecorder.stop(),this.isRecording=!1,console.log("Stopping recording..."))}},{key:"base64Recording",get:function(){return this.result}}]),e}(),W=JSON.parse(window.localStorage.getItem("recognition")),Y=function(){function e(){if(Object(l.a)(this,e),this.message="",this.isRecording=!1,W)try{this.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,this.recognition=new this.SpeechRecognition}catch(t){console.error(t),alert("Your browser does not support voice recognition.")}}return Object(c.a)(e,[{key:"init",value:function(e){var t=this;W&&(this.recognition.continuous=!0,this.recognition.onresult=function(n){var a=n.resultIndex,o=n.results[a][0].transcript;t.message+=o,e&&e()})}},{key:"start",value:function(e){W&&!this.isRecording&&(this.init(function(){return!!e&&e()}),this.recognition.start(),this.isRecording=!0,console.log("Starting voice recognition..."))}},{key:"stop",value:function(){if(W&&this.isRecording)return this.recognition.stop(),this.isRecording=!1,console.log("Stopping voice recognition..."),this.message}},{key:"transcript",get:function(){return this.message},set:function(e){this.message=e}}]),e}(),_=n(117),Q=n.n(_),q=n(82),G=n.n(q),K=JSON.parse(window.localStorage.getItem("icon")),X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={content:""},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"send",value:function(){this.props.send(document.getElementById("recipient").value,document.getElementById("compose-body").value,this.mediaRecorder.base64Recording)}},{key:"render",value:function(){var e=this,t=this.props.classes;this.mediaRecorder=new P;var n=new Y;return o.a.createElement(w.a,{className:t.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()},onEntered:function(){return setTimeout(function(){e.mediaRecorder.start(),n.start()},2e3)}},o.a.createElement(C.a,{container:!0,spacing:8},o.a.createElement(C.a,{item:!0,sm:10},o.a.createElement(I.a,{className:t.dialogTitle,onClick:function(){return B("Compose Email")}},"Compose Email"),o.a.createElement("br",null)),o.a.createElement(C.a,{item:!0,sm:2},o.a.createElement("br",null),o.a.createElement(H.a,{"aria-label":"Close",color:"primary",onClick:function(){return e.props.func(!1)}},o.a.createElement(F.a,{className:t.close})))),o.a.createElement("div",{className:t.dialog},o.a.createElement(G.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",rows:"1",placeholder:"To:",id:"recipient"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(G.a,{fullWidth:!0,multiline:!0,variant:"outlined",rows:"20",id:"compose-body",value:this.state.content,onChange:function(){return e.setState({content:document.getElementById("compose-body").value})},placeholder:"Message"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(f.a,{variant:"outlined",color:"secondary",id:"btn-send",onClick:function(){e.mediaRecorder.stop(),e.setState({content:n.stop()}),e.send()}},o.a.createElement(Q.a,{className:t.send}),"\u2003Send Email")))}}]),t}(o.a.Component),Z=Object(z.withStyles)(function(e){return{close:{fontSize:JSON.parse(window.localStorage.getItem("icon"))?"60pt":"40pt",zIndex:99999},dialog:{overflow:"hidden",padding:5*e.spacing.unit,zIndex:2e3},dialogTitle:{fontSize:"1.5em"},send:{fontSize:K?"60pt":"40pt"}}})(X),$=n(127),ee=n.n($),te=n(35),ne=n.n(te),ae=n(130),oe=n.n(ae),ie=n(80),re=n.n(ie),le=n(62),ce=n.n(le),se=n(63),me=n.n(se),ue=n(64),de=n.n(ue),ge=n(83),pe=n.n(ge),he=n(123),Ee=n.n(he),fe=n(125),be=n.n(fe),ve=n(119),ye=n.n(ve),we=n(118),Se=n.n(we),Ie=n(61),ke=n.n(Ie),Ce=n(122),Ne=n.n(Ce),Oe=n(121),je=n.n(Oe),Te=n(120),Re=n.n(Te),Ae=JSON.parse(window.localStorage.getItem("icon")),xe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).ok="Dear ".concat(n.props.from,",\r\n\nSounds great!"),n.no="Dear ".concat(n.props.from,",\r\nNo, sorry. I don't think so."),n.maybe="Dear ".concat(n.props.from,",\r\nI'm not sure. Can we talk in person?"),n.state={read:JSON.parse(window.localStorage.getItem("tts"))?o.a.createElement(f.a,{variant:"contained",color:"secondary",onClick:function(){return t.getAllText()}},o.a.createElement(ke.a,{className:n.props.classes.record}),"\xa0 Read Email"):null},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"entered",value:function(){document.getElementsByClassName("mail-body")[0].innerHTML=this.props.data.replace(/\xc2/g," ")}},{key:"send",value:function(e){var t=this;document.getElementById("btn-compose").click(),setTimeout(function(){document.getElementById("recipient").value=t.props.address.substring(0,t.props.address.length-1),document.getElementById("recipient").setAttribute("disabled","true"),document.getElementById("compose-body").value=e,document.getElementById("compose-body").setAttribute("disabled","true"),setTimeout(function(){document.getElementById("btn-send").click()},2e3)},1e3)}},{key:"sendHelp",value:function(){var e=this;window.gapi.client.gmail.users.getProfile({userId:"me"}).then(function(t){e.address=JSON.parse(t.body).emailAddress,e.emailContent="Content-Type: text/html\r\nFrom: ".concat(e.address,"\r\nTo: ").concat(window.localStorage.getItem("helpAddress"),"\r\nSubject: Help!\r\nReply-To: ").concat(e.address,"\r\n\r\nPlease help:\n\n").concat(e.props.data.replace(/\xc2/g," ")),window.gapi.client.gmail.users.messages.send({userId:"me",resource:{raw:btoa(e.emailContent).replace(/\+/g,"-").replace(/\//g,"_")}}).then(function(){return setTimeout(function(){return window.location.reload()},500)})})}},{key:"render",value:function(){var e=this,n=this.props.classes;return o.a.createElement(w.a,{className:n.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()},onEntered:function(){return e.entered()}},o.a.createElement(C.a,{container:!0,spacing:8},o.a.createElement(C.a,{item:!0,sm:5},o.a.createElement(I.a,{className:n.dialogTitle,onClick:function(){return B(e.props.subject)}},this.props.subject),o.a.createElement("br",null)),o.a.createElement(C.a,{item:!0,sm:3},o.a.createElement("br",null),o.a.createElement("br",null),this.state.read),o.a.createElement(C.a,{item:!0,sm:2},o.a.createElement("br",null),o.a.createElement(H.a,{"aria-label":"Help",color:"secondary",onClick:function(){return e.sendHelp()}},o.a.createElement(Se.a,{className:n.close}))),o.a.createElement(C.a,{item:!0,sm:2},o.a.createElement("br",null),o.a.createElement(H.a,{"aria-label":"Close",color:"primary",onClick:function(){return e.props.func(!1)}},o.a.createElement(F.a,{className:n.close})))),o.a.createElement("br",null),o.a.createElement("div",{className:"".concat(n.mailBody," mail-body"),onClick:function(){return t.getAllText()},onMouseUp:function(){return t.getSelectedText()}}),o.a.createElement(C.a,{container:!0,spacing:8,className:n.grid},o.a.createElement(C.a,{item:!0,sm:12},o.a.createElement(T.a,{variant:"h3",onClick:function(){return B("Quick reply")}},o.a.createElement(ye.a,{className:n.flashIcon}),"Quick Reply"),o.a.createElement("br",null),o.a.createElement("br",null)),o.a.createElement(C.a,{item:!0,sm:4}),o.a.createElement(C.a,{item:!0,sm:1},o.a.createElement(H.a,{"aria-label":"Ok",color:"primary",onClick:function(){return e.send(e.ok)}},o.a.createElement(Re.a,{className:n.replyIcon}))),o.a.createElement(C.a,{item:!0,sm:1},o.a.createElement(H.a,{"aria-label":"No",color:"primary",onClick:function(){return e.send(e.no)}},o.a.createElement(je.a,{className:n.replyIcon}))),o.a.createElement(C.a,{item:!0,sm:1},o.a.createElement(H.a,{"aria-label":"Maybe",color:"primary",onClick:function(){return e.send(e.maybe)}},o.a.createElement(Ne.a,{className:n.replyIcon})))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))}}],[{key:"getAllText",value:function(){B(document.getElementsByClassName("mail-body")[0].innerText)}},{key:"getSelectedText",value:function(){var e="";window.getSelection&&(e=window.getSelection().toString()),B(e)}}]),t}(o.a.Component),Je=Object(z.withStyles)(function(e){return{close:{fontSize:Ae?"40pt":"60pt",zIndex:99999},dialog:{padding:5*e.spacing.unit,zIndex:2e3},dialogTitle:{fontSize:"30pt"},flashIcon:{fontSize:"36pt"},grid:{margin:10,textAlign:"center"},mailBody:{padding:5*e.spacing.unit},record:{fontSize:Ae?"40pt":"60pt",zIndex:99999},replyIcon:{fontSize:"24pt"}}})(xe),Be=n(124),ze=n.n(Be),De=JSON.parse(window.localStorage.getItem("icon")),Me=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={open:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){this.setState({open:e})}},{key:"render",value:function(){var e=this,n=this.props.classes;return this.from=this.props.payload.headers.filter(function(e){return"From"===e.name})[0].value.split("<"),this.subject=this.props.payload.headers.filter(function(e){return"Subject"===e.name})[0].value,this.data=atob(t.mime(this.props.payload).replace(/_/g,"/").replace(/-/g,"+")),this.props.mailData("From ".concat(this.from[0],". ").concat(this.subject,".")),o.a.createElement(Ee.a,{raised:!0,className:n.card},o.a.createElement(T.a,{variant:"h3",onClick:function(){return B("From ".concat(e.from[0]))}},"From: ",this.from[0]),o.a.createElement("br",null),o.a.createElement(T.a,{variant:"h6",onClick:function(){return B(e.from[1])}},"<".concat(this.from[1])),o.a.createElement("br",null),o.a.createElement(T.a,{variant:"h2",onClick:function(){return B(e.subject)}},"".concat(this.subject)),o.a.createElement("br",null),o.a.createElement(T.a,{variant:"h5",onClick:function(){return B(t.htmlDecode(e.props.snippet))}},t.htmlDecode(this.props.snippet),"..."),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(C.a,{container:!0,spacing:24},o.a.createElement(C.a,{item:!0,sm:9},o.a.createElement(f.a,{variant:"contained",onClick:function(){e.handleClick(!0),B("Open email")},size:"large",color:"primary",fullWidth:!0},o.a.createElement(ze.a,{className:n.open}),"\u2003 Open Email")),o.a.createElement(C.a,{item:!0,sm:3},o.a.createElement(H.a,{"aria-label":"Delete",color:"primary",onClick:function(){return e.props.trash()}},o.a.createElement(be.a,{className:n.open})))),o.a.createElement(Je,{open:this.state.open,func:function(t){return e.handleClick(t)},onClose:function(){return e.handleClick(!1)},subject:this.subject,data:this.data,from:this.from[0],address:this.from[1]}))}}],[{key:"htmlDecode",value:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}},{key:"mime",value:function(e){return e.body.data||t.mime(e.parts.filter(function(e){return"text/html"===e.mimeType||"multipart/alternative"===e.mimeType||"multipart/related"===e.mimeType})[0])}}]),t}(o.a.Component),Ve=Object(z.withStyles)(function(e){return{card:{padding:5*e.spacing.unit},date:{lineHeight:2},open:{fontSize:De?"60pt":"40pt"}}})(Me),Fe=n(126),Le=n.n(Fe),He=["https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest"],Ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={mail:o.a.createElement(pe.a,{color:"secondary"})},n.emailCount=0,n.compiled="",n.reload=setTimeout(function(){return n.setState({mail:o.a.createElement("div",null,o.a.createElement(pe.a,{color:"secondary"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(f.a,{color:"secondary",variant:"contained",onClick:function(){return window.location.reload()}},o.a.createElement(Le.a,{style:{fontSize:JSON.parse(window.localStorage.getItem("icon"))?"60pt":"40pt"}}),"\u2003 Reload"))})},5e3),n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{document.addEventListener("DOMContentLoaded",function(){window.gapi.load("client:auth2",function(){e.init()})},!1)}catch(t){console.error(t),alert("Something went wrong. Try refreshing the page?"),clearTimeout(this.reload),this.setState({mail:o.a.createElement(T.a,{variant:"h2",onClick:function(){return B("Unable to fetch emails")}},"Unable to fetch emails.")})}}},{key:"init",value:function(){var e=this;window.gapi.client.init({apiKey:"AIzaSyAnDiNaAU8T2W75ynyVt-Dz8ebMxD30s1I",clientId:"98686281361-8upucg52mkqe70nv3j9evlc9kim8ki56.apps.googleusercontent.com",discoveryDocs:He,scope:"https://www.googleapis.com/auth/gmail.modify"}).then(function(){window.gapi.auth2.getAuthInstance().isSignedIn.get()&&e.getMessages(),e.props.isLogin(window.gapi.auth2.getAuthInstance().isSignedIn.get()),window.gapi.client.gmail.users.getProfile({userId:"me"}).then(function(t){e.props.getEmail(JSON.parse(t.body))});try{document.getElementById("btn-login").onclick=t.login}catch(n){}try{document.getElementById("btn-logout").onclick=t.logout}catch(n){}})}},{key:"getMessages",value:function(){var e=this;window.gapi.client.gmail.users.messages.list({userId:"me",labelIds:["INBOX"]}).then(function(n){var a=n.result.messages,i=[];clearTimeout(e.reload),a.forEach(function(n,r){window.gapi.client.gmail.users.messages.get({userId:"me",id:n.id}).then(function(n){i.push(n.result),r+1===a.length&&(i.length!==a.length&&window.location.reload(),i.sort(function(e,t){return t.internalDate-e.internalDate}),e.setState({mail:i.map(function(n,i){return o.a.createElement("div",{key:"preview-".concat(i)},o.a.createElement(Ve,{snippet:n.snippet,payload:n.payload,trash:function(){return t.trash(a[i].id)},mailData:function(t){return e.compile(t)}}),o.a.createElement("br",null),o.a.createElement("br",null))})}))})})})}},{key:"compile",value:function(e){this.emailCount++,this.compiled+="Email number ".concat(this.emailCount,": ").concat(e," "),this.props.mailData(this.compiled)}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.mail)}}],[{key:"login",value:function(){window.gapi.auth2.getAuthInstance().signIn()}},{key:"logout",value:function(){window.gapi.auth2.getAuthInstance().signOut()}},{key:"trash",value:function(e){window.gapi.client.gmail.users.messages.trash({userId:"me",id:e}).then(function(){return window.location.reload()})}}]),t}(o.a.Component),Pe=n(47),We=n.n(Pe),Ye=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).storage=window.localStorage,n.storage.getItem("tts")||n.storage.setItem("tts",!1),n.storage.getItem("recognition")||n.storage.setItem("recognition",!1),n.storage.getItem("vemail")||n.storage.setItem("vemail",!1),n.storage.getItem("icon")||n.storage.setItem("icon",!1),n.storage.getItem("helpAddress")||n.storage.setItem("helpAddress","ablemail1540@gmail.com"),n.state={tts:n.storage.getItem("tts"),recognition:n.storage.getItem("recognition"),vemail:n.storage.getItem("vemail"),icon:n.storage.getItem("icon"),helpAddress:n.storage.getItem("helpAddress")},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(w.a,{className:t.dialog,open:this.props.open,fullScreen:!0,onClose:function(){return e.props.onClose()}},o.a.createElement(I.a,{className:t.dialogTitle},"Settings"),o.a.createElement("div",{className:t.dialog},o.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},o.a.createElement(C.a,{item:!0,sm:6},o.a.createElement(T.a,{variant:"h4"},"Text-to-Speech"),o.a.createElement(O.a,{checked:JSON.parse(this.state.tts),onChange:function(t,n){e.storage.setItem("tts",n),e.setState({tts:e.storage.getItem("tts")})}})),o.a.createElement(C.a,{item:!0,sm:6},o.a.createElement(T.a,{variant:"h4"},"Voice Recognition"),o.a.createElement(O.a,{checked:JSON.parse(this.state.recognition),onChange:function(t,n){e.storage.setItem("recognition",n),e.setState({recognition:e.storage.getItem("recognition")})}}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},o.a.createElement(C.a,{item:!0,sm:6},o.a.createElement(T.a,{variant:"h4"},"Voice Emails"),o.a.createElement(O.a,{checked:JSON.parse(this.state.vemail),onChange:function(t,n){e.storage.setItem("vemail",n),e.setState({vemail:e.storage.getItem("vemail")})}})),o.a.createElement(C.a,{item:!0,sm:6},o.a.createElement(T.a,{variant:"h4"},"Bigger Icons"),o.a.createElement(O.a,{checked:JSON.parse(this.state.icon),onChange:function(t,n){e.storage.setItem("icon",n),e.setState({icon:e.storage.getItem("icon")})}}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(C.a,{container:!0,spacing:24,className:t.grid},o.a.createElement(C.a,{item:!0,sm:6},o.a.createElement(T.a,{variant:"h4"},"Emergency Contact Email"),o.a.createElement(We.a,{defaultValue:this.state.helpAddress,id:"helpAddress",onChange:function(){return e.storage.setItem("helpAddress",document.getElementById("helpAddress").value)},type:"email"}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(f.a,{color:"primary",variant:"outlined",onClick:function(){return window.location.reload()},className:t.btnApply},o.a.createElement(v.a,null),"\u2003Apply")))}}]),t}(o.a.Component),_e=Object(z.withStyles)(function(e){return{btnApply:{position:"fixed"},dialog:{padding:5*e.spacing.unit,zIndex:2e3},dialogTitle:{fontSize:"1.5em"},grid:{textAlign:"center"}}})(Ye),Qe=n(84),qe=n.n(Qe),Ge=n(129),Ke=n.n(Ge),Xe=JSON.parse(window.localStorage.getItem("icon")),Ze=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).recognition=new Y,n.isRecording=!1,n.emailCount=0,n.state={auth:null,compose:!1,settings:!1,clientSettings:!1,recognition:JSON.parse(window.localStorage.getItem("recognition"))?o.a.createElement("div",null,o.a.createElement("div",{className:n.props.classes.toolbar}),o.a.createElement(ne.a,null),o.a.createElement(ce.a,{button:!0,onClick:function(){B("Voice Command"),n.handleRecognition()}},o.a.createElement(me.a,null,o.a.createElement(ke.a,{className:n.props.classes.icon})),o.a.createElement(de.a,null,o.a.createElement("br",null),o.a.createElement(T.a,{variant:"h3",color:"inherit",className:n.props.classes.bold},"Voice Command"),o.a.createElement("br",null))),o.a.createElement(ne.a,null)):null},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.setState({auth:o.a.createElement(f.a,{variant:"contained",color:"secondary",id:"btn-logout",className:this.props.classes.auth,onClick:function(){B("Sign out"),setTimeout(function(){return window.location.reload()},3e3)}},"Sign Out")}):this.setState({auth:o.a.createElement(f.a,{variant:"contained",color:"secondary",id:"btn-login",className:this.props.classes.auth,onClick:function(){B("Sign in")}},"Sign In")})}},{key:"handleCompose",value:function(e){this.setState({compose:e})}},{key:"handleSettings",value:function(e){this.setState({settings:e})}},{key:"getEmail",value:function(e){this.address=e.emailAddress}},{key:"send",value:function(e,t,n){var a=this;n?n.then(function(n){a.emailContent="MIME-Version: 1.0\r\nFrom: ".concat(a.address,"\r\nTo: ").concat(e,"\r\nSubject: Email from ").concat(a.address,"\r\nContent-Type: multipart/related\r\nReply-To: ").concat(a.address,'\r\nboundary="myboundary"\r\n--myboundary\r\nContent-Type: text/plain\r\n\r\n').concat(t,'\nSent with AbleMail.\r\n\r\n--myboundary\r\nContent-Type: audio/webp\r\nContent-Transfer-Encoding: base64\r\nContent-Disposition: attachment; filename="audio.webp"\r\n\r\n').concat(n),a.gmailSend()}):(this.emailContent="Content-Type: text/plain\r\nFrom: ".concat(this.address,"\r\nTo: ").concat(e,"\r\nSubject: Email from ").concat(this.address,"\r\nReply-To: ").concat(this.address,"\r\n\r\n").concat(t,"\nSent with AbleMail."),this.gmailSend())}},{key:"gmailSend",value:function(){window.gapi.client.gmail.users.messages.send({userId:"me",resource:{raw:btoa(this.emailContent).replace(/\+/g,"-").replace(/\//g,"_")}}).then(function(){return setTimeout(function(){return window.location.reload()},500)})}},{key:"handleRecognition",value:function(){var e=this;this.isRecording?this.recognition.stop():setTimeout(function(){e.recognition.start(function(){var t=e.recognition.transcript.toLowerCase();switch(!0){case/compose/.test(t):document.getElementById("btn-compose").click(),e.recognition.transcript="",e.recognition.stop();break;case/read emails/.test(t):B("You have ".concat(e.emailCount," emails. ").concat(e.mailData," That's all of your emails.")),e.recognition.transcript="",e.recognition.stop()}})},2e3),this.isRecording=!this.isRecording}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.body},o.a.createElement(ee.a,null),o.a.createElement(h.a,{className:t.appBar},o.a.createElement(Ke.a,null,o.a.createElement(_e,{open:this.state.settings,onClose:function(){return e.handleSettings(!1)}}),o.a.createElement(f.a,{variant:"outlined",color:"secondary",className:t.settings,onClick:function(){e.handleSettings(!0),B("Settings")}},o.a.createElement(qe.a,null),"\u2003Coach's Settings"),o.a.createElement("img",{onClick:function(){return B("AbleMail")},className:t.logo,src:"logo.png",alt:"AbleMail"}),this.state.auth)),o.a.createElement(oe.a,{variant:"permanent",classes:{paper:t.drawerPaper},className:t.drawer},o.a.createElement(re.a,{component:"nav"},o.a.createElement("div",{className:t.toolbar}),o.a.createElement("div",{className:t.toolbar}),o.a.createElement(ne.a,null),o.a.createElement(ce.a,{button:!0,onClick:function(){e.recognition.stop(),e.handleCompose(!0),B("Compose email")},id:"btn-compose"},o.a.createElement(me.a,null,o.a.createElement(g.a,{className:t.icon})),o.a.createElement(de.a,null,o.a.createElement("br",null),o.a.createElement(T.a,{variant:"h3",color:"inherit",className:t.bold},"Compose"),o.a.createElement("br",null))),o.a.createElement(ne.a,null),this.state.recognition,o.a.createElement("div",{className:t.toolbar}),o.a.createElement(ne.a,null),o.a.createElement(ce.a,{button:!0,onClick:function(){return B("Settings")}},o.a.createElement(me.a,null,o.a.createElement(qe.a,{className:t.icon})),o.a.createElement(de.a,null,o.a.createElement("br",null),o.a.createElement(M,{open:this.state.clientSettings,onClose:function(){return e.setState({clientSettings:!1})}}),o.a.createElement(T.a,{variant:"h3",color:"inherit",className:t.bold,onClick:function(){e.setState({clientSettings:!0}),B("Settings")}},"Settings"),o.a.createElement("br",null))),o.a.createElement(ne.a,null))),o.a.createElement("main",{className:t.content},o.a.createElement("div",{className:t.toolbar},o.a.createElement(Ue,{isLogin:function(t){return e.login(t)},mailData:function(t){e.mailData=t,e.emailCount++},getEmail:function(t){return e.getEmail(t)}}),o.a.createElement(Z,{open:this.state.compose,onClose:function(){return e.handleCompose(!1)},send:function(t,n,a){return e.send(t,n,a)},func:function(t){return e.setState({compose:t})}}))))}}]),t}(o.a.Component),$e=Object(z.withStyles)(function(e){return{appBar:{zIndex:1400,alignItems:"center"},auth:{position:"absolute",right:"-40vw"},body:{height:"100vh",margin:0,overflow:"hidden",width:"100vw",display:"flex"},bold:{fontWeight:Xe?"":"bold"},content:{flexGrow:1,padding:12.5*e.spacing.unit,overflowY:"scroll"},drawer:{flexShrink:0,width:360},drawerPaper:{width:360},icon:{fontSize:Xe?"60pt":"40pt"},logo:{height:"5vh"},settings:{position:"absolute",left:"-40vw"},toolbar:e.mixins.toolbar}})(Ze);r.a.render(o.a.createElement($e,null),document.getElementById("root"))}},[[132,2,1]]]);
//# sourceMappingURL=main.cc4b2fba.chunk.js.map